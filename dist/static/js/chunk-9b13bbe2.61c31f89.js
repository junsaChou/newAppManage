(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b13bbe2"],{"6a32":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-classic-wrapper"},[i("el-card",{directives:[{name:"show",rawName:"v-show",value:t.rewardListForm.flag,expression:"rewardListForm.flag"}]},[i("el-form",{ref:"searchForm",staticClass:"search-form",attrs:{inline:!0,model:t.listQuery,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"累计发放奖励"}},[i("el-input",{attrs:{disabled:"",placeholder:"请填写"},model:{value:t.extendsMap.sumAmount,callback:function(e){t.$set(t.extendsMap,"sumAmount",e)},expression:"extendsMap.sumAmount"}})],1),i("el-form-item",{attrs:{label:"状态"}},[i("el-select",{attrs:{placeholder:"请填写"},model:{value:t.listQuery.type,callback:function(e){t.$set(t.listQuery,"type",e)},expression:"listQuery.type "}},[i("el-option",{attrs:{value:1,label:"本周排行"}}),i("el-option",{attrs:{value:2,label:"上周排行"}})],1)],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("搜索")]),i("el-button",{attrs:{type:"warning"},on:{click:t.onReset}},[t._v("重置")])],1)],1),i("div",{staticClass:"control-btns"},[i("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("添加账号")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.rewardListForm.flag=!1}}},[t._v("更改奖励金额")])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark",size:"medium"}},[i("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"排名",prop:"id",align:"center",width:"90"}}),i("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"account",label:"登录账户",align:"center"}}),i("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"activitySorce",label:"充值金额",align:"center"}}),i("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"reward",label:"奖励金额",align:"center"}}),i("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==t.extendsMap.type&0==e.row.rewardState&0==e.row.userType&e.row.id<=10?i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return t.handleDispatch(e.$index,e.row)}}},[t._v("发放奖励")]):2==t.extendsMap.type&1==e.row.rewardState?i("span",[t._v("已发放")]):1==t.extendsMap.type&1==e.row.userType?i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return t.handleEdit(e.$index,e.row)}}},[t._v("修改")]):i("span")]}}])})],1),i("Pagination",{attrs:{total:t.total,page:t.pageIndex,limit:t.pageSize},on:{"update:page":function(e){t.pageIndex=e},"update:limit":function(e){t.pageSize=e},pagination:t.PostFetchData}}),i("el-dialog",{staticClass:"dialog-form",attrs:{title:t.formVisibleList.title,visible:t.formVisibleList.formVisible,width:"45%","before-close":t.handleClose},on:{"update:visible":function(e){return t.$set(t.formVisibleList,"formVisible",e)}}},[i("el-form",{ref:"dialogForm",attrs:{model:t.dialogForm,rules:t.formRules,"label-width":"110px"}},[t.formVisibleList.isCreate?i("el-form-item",{attrs:{label:"用户名：",prop:"account",maxlength:"11"}},[i("el-input",{model:{value:t.dialogForm.account,callback:function(e){t.$set(t.dialogForm,"account",e)},expression:"dialogForm.account"}})],1):t._e(),i("el-form-item",{attrs:{label:"充值金额：",prop:"amount",maxlength:"6"}},[i("el-input",{model:{value:t.dialogForm.amount,callback:function(e){t.$set(t.dialogForm,"amount",e)},expression:"dialogForm.amount"}})],1),i("div",{staticClass:"footer-item"},[i("el-button",{on:{click:t.cancleForm}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary",disabled:t.isSubmit},on:{click:function(e){return t.submitForm("dialogForm",t.formVisibleList.isCreate)}}},[t._v("确 定")])],1)],1)],1)],1),t.rewardListForm.flag?t._e():i("RewardList",{attrs:{isActiviteId:2},on:{func:t.getMsgFormSon}})],1)},o=[],l=(i("4160"),i("b64b"),i("159b"),i("058a")),s=i("fdf9"),r=i("333d"),n=(i("8a1f"),i("c8e6")),c={name:"Table",components:{Pagination:r["a"],RewardList:n["a"]},data:function(){return{listLoading:!0,rewardListForm:{flag:!0},listQuery:{type:1},extendsMap:{type:2,sumAmount:0},dialogForm:{account:null,amount:null,userId:null},imgUrl:null,imgFile:"",fileName:"",dateTime:null,total:0,pageIndex:1,pageSize:10,tableData:[],multipleSelection:[],formVisible:!1,formVisibleList:{formVisible:!1,title:"编辑",isCreate:!1},formRules:{account:[{required:!0,message:"请输入账户名称",trigger:"blur"},{validator:s["a"].validatePhone,trigger:"blur"}],amount:[{required:!0,message:"请输入1-999999的数值",trigger:"blur"},{validator:s["a"].validateRechargeReg,trigger:"blur"}],bannerUrl:[{required:!0,message:"请上传图片",trigger:"blur"}],activityStartTime:[{required:!0,message:"请输入开始时间",trigger:"blur"}],activityEndTime:[{required:!0,message:"请输入结束时间",trigger:"blur"}],type:[{required:!0,message:"请选择用户账户状态：",trigger:"blur"}]},isSubmit:!1,importVisible:!1}},created:function(){this.PostFetchData()},methods:{handleEdit:function(t,e){this.formVisibleList.formVisible=!0,this.formVisibleList.title="修改充值金额",this.formVisibleList.isCreate=!1,this.dialogForm.userId=e.userId,this.dialogForm.amount=e.amount},handleClose:function(){this.cancleForm()},handleCreate:function(){this.formVisibleList.formVisible=!0,this.formVisibleList.title="添加账户",this.formVisibleList.isCreate=!0},getMsgFormSon:function(t){this.rewardListForm.flag=t},PostFetchData:function(){var t=this;this.listLoading=!0;var e=this.listQuery;e["pageIndex"]=this.pageIndex,e["pageSize"]=this.pageSize,Object(l["L"])(e).then((function(e){console.log(e),200===e.code&&(t.total=e.data.total,t.tableData=e.data.list,t.extendsMap=e.data.extendsMap,t.listLoading=!1)})).catch((function(e){console.log(e),t.listLoading=!1}))},upDate:function(t){t?(this.listQuery.startTime=t[0],this.listQuery.endTime=t[1]):(this.listQuery.startTime=null,this.listQuery.endTime=null)},onSubmit:function(){this.PostFetchData()},onReset:function(){var t=this;Object.keys(t.listQuery).forEach((function(e){t.listQuery[e]=null})),this.listQuery.type=1,this.PostFetchData()},submitForm:function(t,e){var i=this;this.$refs[t].validate((function(t){if(!t)return i.isSubmit=!1,!1;var a=i.dialogForm;e?(a["userId"]=null,Object(l["c"])(a).then((function(t){console.log(t),200===t.code?(i.PostFetchData(),i.cancleForm()):i.$message({type:"warning",message:t.message})})).catch((function(t){console.log(t),i.listLoading=!1}))):i.apiUpdateActivityInit(a)}))},handleDispatch:function(t,e){var i=this;this.$confirm("确定发放本次充值活动奖励","发放奖励",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={userId:e.userId};i.apiDispatch(t),i.$message({type:"success",message:"发放成功!"}),i.PostFetchData()})).catch((function(){i.$message({type:"info",message:"已取消发放"})}))},apiUpdateActivityInit:function(t){var e=this;Object(l["s"])(t).then((function(t){console.log(t),200===t.code&&(e.PostFetchData(),e.cancleForm())})).catch((function(t){e.listLoading=!1}))},apiDispatch:function(t){var e=this;Object(l["l"])(t).then((function(t){console.log(t),200===t.code&&e.PostFetchData()})).catch((function(t){e.listLoading=!1}))},cancleForm:function(){var t=this;Object.keys(t.dialogForm).forEach((function(e){t.dialogForm[e]=null})),this.formVisibleList.formVisible=!1},views:function(){console.log("hh"),this.isAbc=!0}}},u=c,m=(i("6c36"),i("2877")),d=Object(m["a"])(u,a,o,!1,null,null,null);e["default"]=d.exports},"6c36":function(t,e,i){"use strict";var a=i("8cc8"),o=i.n(a);o.a},"8cc8":function(t,e,i){}}]);